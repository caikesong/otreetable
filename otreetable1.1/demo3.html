<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>无标题页</title>
	<meta name="description" content="" />
    <meta name="keywords" content="" />
	<style type="text/css">
	body{font-size:12px;}
	a{cursor:pointer; text-decoration:underline;}
	table{border:solid 1px #ccc; border-collapse:collapse;}
	table td,table th{border:solid 1px #ccc; line-height:22px; height:22px; padding:0 5px;}
	</style>
	<script type="text/javascript" src="otreetable.js"></script>
</head>
<body>
<div style="line-height:24px;padding:5px 0;">
	树形表格示例<br />
	你现在看到的是原始的表格内容显示，请点击下面的“调用树形菜单”按钮就可以看到效果了。
	<br />
	<input type="button" onclick="test();" value="调用树形菜单" />
	<input type="button" onclick="expandAll();" value="全部展开" />
	<input type="button" onclick="collapseAll();" value="全部收缩" />

</div>

<table id="tb1" style="float:left;">
	<tr>
		<th rowspan="2">名称
		</th>
		<th>ID</th>
		<th>父级ID</th>
		<th>层级</th>
		<th>编号</th>
		<th>说明</th>
	</tr>
	<tr>
		<th>ID</th>
		<th>父级ID</th>
		<th>层级</th>
		<th>编号</th>
		<th>说明</th>
	</tr>
</table>
</body>
</html>
<script type="text/javascript">
var otb = null;
var isLoaded = false;
function test(){
	if(!isLoaded){
		otb = new oTreeTable('otb', document.getElementById('tb1'), {skin:'default',showIcon:false});
		isLoaded = true;
	}
}

function build(){
	var obj = document.getElementById('tb1');
	var rid = obj.rows.length;

	for(var i=0; i<5; i++){
		var row = obj.insertRow(rid+i);
		row.lang = '{id:' + (rid+i) + ', pid:0, level:0}';
		for(var j=0;j<6;j++){
			var cell = row.insertCell(j);
			cell.innerHTML = '行' + (rid+i) + '列' + j;
		}
	}

	rid = obj.rows.length;
	for(var i=0; i<5; i++){
		var row = obj.insertRow(rid+i);
		row.lang = '{id:' + (rid+i) + ', pid:' + 3 + ', level:1}';
		for(var j=0;j<6;j++){
			var cell = row.insertCell(j);
			cell.innerHTML = '行' + (rid+i) + '列' + j;
		}
	}
}

build();

function expandAll(){
	if(isLoaded){
		otb.expandAll();
	}
}
function collapseAll(){
	if(isLoaded){
		otb.collapseAll();
	}
}
</script>